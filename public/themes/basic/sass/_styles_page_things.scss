/**
 * @file
 * Page-things.
 */


.page-center {
  max-width: $layout-page-max-width;
  min-width: $layout-page-min-width;
  margin-left: auto;
  margin-right: auto;
  padding: $layout-pad/2;
}


// #############################################################################
// Accessibility helpers:

.jump-links {
  background: color(bg-sec);
  height: 0;
  position: relative;
}
a.jump-link { // Overqualifying because of link rules to be overridden.
  @include transition-property(top,opacity);
  @include transition-duration($transitspeed-mid,$transitspeed-mid);
  @include border-bottom-radius;

  &,
  &:focus,
  &:hover {
    border: 1px solid rgba(lighten(color(nav), 20%), 0.75);
    color: color(text-invert);
  }

  background: color(bg-sec);
  background: rgba(color(bg-sec), 0.75);
  display: block;
  left: 50%;
  line-height: 2em;
  margin-left: -$layout-page-min-width/2;
  position: absolute;
  opacity: 0;
  outline: 0;
  text-decoration: none;
  text-align: center;
  top: -2em;
  width: $layout-page-min-width;
  z-index: 1000;
}
.jump-link:focus {
  opacity: 1;
  top: -1px;
}


// #############################################################################
// Default page header.

.region--header {
  display: table;
  width: 100%;

  .block {
    display: table-cell;
  }
}
.site-name {
  font-size: 1.2em;
}
.site-tagline {
  display: none; // Only on wider screens.
}
.entity--header_widgets {
  text-align: right;
  vertical-align: middle;
}

.region--header_suffix {
  margin: $layout-pad*0.75 0 0;
}

// -----------------------------------------------------------------------------
// Growing screens.
@include breakpoint($bkp-multi-min) {
  .site-tagline {
    display: block;
    font-style: italic;
  }
  .region--header .block {
    vertical-align: middle;
  }
}


// #############################################################################
// Content neighborhood.

.content-level {
  padding-top: $layout-pad*2;
}
.primary-content.entity {
  padding-bottom: $layout-pad*1;
}
.block--content_meta {
  margin-bottom: $layout-pad*2;
}
.page__title {
  @include page-title-appearance;
}
.page__subtitle {
  color: color(minor);
  font-size: 1.25em;
  font-style: italic;
  font-weight: 400;
  line-height: 1.3;
  margin: 0 0 1.5em;

  .page__title + & {
    margin-top: -0.25em;
  }
}
.block__title {
  @include block-title-appearance;
}

// -----------------------------------------------------------------------------
// Screen-size-specifics.
@include breakpoint($bkp-multi-min) {
  .content-level > .sidebar_1,
  .layout--landing_1 > .column--minor {
    margin-top: 0;
  }
  [id="navigation"],
  .primary-content.entity {
    // Trick to allow a little room over them when we jump here via an anchor.
    margin-top: -$layout-pad;
    padding-top: $layout-pad;
  }
}
@include breakpoint($layout-page-max-width) {
  // Pushing down the content-level to make it form a standalone box.
  .page-level--header {
    margin-bottom: $layout-pad*2.5;

    .page-center {
      padding-left: $layout-pad*0.25;
      padding-right: $layout-pad*0.25;
    }
  }
  .content-level {
    min-height: 24em;
    padding-top: $layout-pad*1.7;
  }
  .sidebar [id="navigation"]:first-child,
  .column--minor [id="navigation"]:first-child {
    margin-top: -$layout-pad*2.7;
  }
  .page-level--body {
    margin-bottom: $layout-pad*2.5;
  }
}


// #############################################################################
// Content meta-data readout.

.content-meta {
  font-size: 0.9em;
  padding: $layout-pad*0.5 0 0;
}
.content-meta__item {
  @include border-radius;

  margin: 0 $layout-pad*3 $layout-pad*0.5 0;

  &,
  li {
    display: inline-block;
    line-height: 1.8;
  }
  .label {
    display: block;
  }
}


// #############################################################################
// Footer.

.region--footer {
  @include n-clearfix;

  text-align: center;

  .block {
    margin-bottom: 0;

    & + .block {
      margin-top: $layout-pad;
    }
  }
  .block__content {
    font-size: 0.9em;
  }
}

